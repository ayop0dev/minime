(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1057:function(e,a,s){Promise.resolve().then(s.bind(s,4527))},4527:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return w}});var l=s(7437),n=s(2265),t=s(6738),i=s.n(t),r=s(4719),o=s.n(r);let c=[{id:"settings",label:"settings",icon:"⚙️"},{id:"posts",label:"posts",icon:"\uD83D\uDCDD"},{id:"subscription",label:"subscription",icon:"\uD83D\uDCB3"}];function d(e){let{activeTab:a,onTabChange:s}=e;return(0,l.jsxs)("nav",{className:o().nav,children:[(0,l.jsxs)("div",{className:o().navHeader,children:[(0,l.jsx)("h1",{className:o().title,children:"minime"}),(0,l.jsx)("p",{className:o().subtitle,children:"admin"})]}),(0,l.jsx)("div",{className:o().tabsList,children:c.map(e=>(0,l.jsxs)("button",{className:"".concat(o().tabButton," ").concat(a===e.id?o().active:""),onClick:()=>s(e.id),"aria-current":a===e.id?"page":void 0,children:[(0,l.jsx)("span",{className:o().icon,children:e.icon}),(0,l.jsx)("span",{className:o().label,children:e.label})]},e.id))}),(0,l.jsxs)("div",{className:o().navFooter,children:[(0,l.jsxs)("button",{className:o().logoutButton,onClick:async()=>{let e=window.MINIME_ADMIN_CONFIG;try{let a=(null==e?void 0:e.restRoot)||"/wp-json/";await fetch(a+"minime/v1/logout",{method:"POST",credentials:"include"})}catch(e){}window.location.href=(null==e?void 0:e.logoutUrl)||window.location.pathname},children:[(0,l.jsx)("span",{className:o().icon,children:"\uD83D\uDEAA"}),(0,l.jsx)("span",{className:o().label,children:"logout"})]}),(0,l.jsx)("div",{className:o().footerItem,children:(0,l.jsx)("span",{className:o().badge,children:"v1.0"})})]})]})}var p=s(7075),u=s.n(p),m=s(3076),_=s.n(m);let g=e=>btoa(unescape(encodeURIComponent(e))),h=e=>decodeURIComponent(escape(atob(e)));function v(){var e,a,s,t,i,r,o,c,d,p,m;let[v,x]=(0,n.useState)(!0),[j,N]=(0,n.useState)(!1),[b,f]=(0,n.useState)(null),[w,C]=(0,n.useState)(null),[y,I]=(0,n.useState)(""),[k,S]=(0,n.useState)(""),[T,L]=(0,n.useState)(""),[B,F]=(0,n.useState)(null),[P,G]=(0,n.useState)(0),[M,D]=(0,n.useState)([]),[E,A]=(0,n.useState)([]),[H,R]=(0,n.useState)("#ffffff"),[O,U]=(0,n.useState)({type:"solid",solidColor:"#f5f5f5",gradient:{color1:"#ffffff",color2:"#f5f5f5",angle:135},image:{previewUrl:void 0},sandbox:{code:""}}),[q,W]=(0,n.useState)(!0),[V,J]=(0,n.useState)("");(0,n.useEffect)(()=>{K()},[]);let K=async()=>{try{var e,a,s,l;x(!0),f(null);let n=window.MINIME_ADMIN_CONFIG;if(!(null==n?void 0:n.nonce))throw Error("Admin config not found. Nonce missing.");let t=n.restRoot||"/wp-json/",i=await fetch(t+"minime/v1/admin",{method:"GET",headers:{"Content-Type":"application/json","X-WP-Nonce":n.nonce},credentials:"include"});if(!i.ok){let e=i.headers.get("content-type"),a={};throw a=(null==e?void 0:e.includes("application/json"))?await i.json():{message:(await i.text()).substring(0,100)},Error(a.message||"HTTP ".concat(i.status))}let r=await i.json();if(I(r.site_title||""),S(r.site_tagline||""),L(r.bio||""),r.site_icon_url&&F(r.site_icon_url),r.site_icon_id&&G(r.site_icon_id),r.socials&&Array.isArray(r.socials)){let e=r.socials.map((e,a)=>({id:String(a+1),channel:e.type||"youtube",value:e.value||e.url||""}));D(e)}if(r.buttons&&Array.isArray(r.buttons)){let e=r.buttons.map((e,a)=>({id:String(a+1),label:e.label||"",url:e.value||e.url||""}));A(e)}if((null===(e=r.card_background)||void 0===e?void 0:e.color)&&R(r.card_background.color),r.background){let e=r.background.gradient,n=e?{color1:(null===(a=e.colors)||void 0===a?void 0:a[0])||"#ffffff",color2:(null===(s=e.colors)||void 0===s?void 0:s[1])||"#f5f5f5",angle:e.angle||135}:{color1:"#ffffff",color2:"#f5f5f5",angle:135},t="";if(null===(l=r.background.sandbox)||void 0===l?void 0:l.code)try{t=h(r.background.sandbox.code)}catch(e){console.warn("Failed to decode sandbox code:",e)}U({type:r.background.type||"solid",solidColor:r.background.color||"#f5f5f5",gradient:n,image:{previewUrl:r.background.image_url||void 0,imageId:r.background.image_id||0},sandbox:{code:t}})}J(r.branding_footer_text||r.footer_text||""),W(!1!==r.show_footer_branding)}catch(e){console.error("Failed to load settings:",e),f(e instanceof Error?e.message:"Failed to load settings")}finally{x(!1)}},Q=async e=>{var a;let s=null===(a=e.target.files)||void 0===a?void 0:a[0];if(!s)return;let l=new FileReader;l.onloadend=()=>{F(l.result)},l.readAsDataURL(s);try{let e=window.MINIME_ADMIN_CONFIG;if(!(null==e?void 0:e.nonce))throw Error("Admin config not found.");let a=new FormData;a.append("file",s);let l=e.restRoot||"/wp-json/",n=await fetch(l+"minime/v1/upload-image",{method:"POST",headers:{"X-WP-Nonce":e.nonce},credentials:"include",body:a});if(!n.ok){let e=await n.json();throw Error(e.message||"HTTP ".concat(n.status))}let t=await n.json();G(t.id),F(t.url)}catch(e){console.error("Failed to upload avatar:",e),f(e instanceof Error?e.message:"Failed to upload avatar")}},Y=e=>{U({...O,type:e})},X=e=>{if(e.length>102400){f("Sandbox code exceeds 100KB limit");return}U({...O,sandbox:{code:e}})},z=e=>{U({...O,type:"solid",solidColor:e})},Z=(e,a)=>{U({...O,gradient:{...O.gradient,[e]:a}})},$=async e=>{var a;let s=null===(a=e.target.files)||void 0===a?void 0:a[0];if(!s)return;let l=new FileReader;l.onloadend=()=>{U(e=>({...e,type:"image",image:{...e.image,previewUrl:l.result}}))},l.readAsDataURL(s);try{let e=window.MINIME_ADMIN_CONFIG;if(!(null==e?void 0:e.nonce))throw Error("Admin config not found.");let a=new FormData;a.append("file",s);let l=e.restRoot||"/wp-json/",n=await fetch(l+"minime/v1/upload-image",{method:"POST",headers:{"X-WP-Nonce":e.nonce},credentials:"include",body:a});if(!n.ok){let e=await n.json();throw Error(e.message||"HTTP ".concat(n.status))}let t=await n.json();U(e=>({...e,type:"image",image:{previewUrl:t.url,imageId:t.id}}))}catch(e){console.error("Failed to upload background image:",e),f(e instanceof Error?e.message:"Failed to upload background image")}},ee=(e,a,s)=>{D(M.map(l=>l.id===e?{...l,[a]:s}:l))},ea=e=>{D(M.filter(a=>a.id!==e))},es=(e,a,s)=>{A(E.map(l=>l.id===e?{...l,[a]:s}:l))},el=e=>{A(E.filter(a=>a.id!==e))},en=async()=>{try{var e,a;N(!0),f(null),C(null);let s=window.MINIME_ADMIN_CONFIG;if(!(null==s?void 0:s.nonce))throw Error("Admin config not found. Nonce missing.");let l={site_title:y,site_tagline:k,bio:T,site_icon_id:P||void 0,socials:M.map(e=>({type:e.channel,value:e.value})),buttons:E.map(e=>({label:e.label,value:e.url})),card_background:{color:H},background:{type:O.type,color:O.solidColor,gradient:O.gradient?{colors:[O.gradient.color1,O.gradient.color2],angle:O.gradient.angle||135}:void 0,image_id:(null===(e=O.image)||void 0===e?void 0:e.imageId)||0,sandbox:(null===(a=O.sandbox)||void 0===a?void 0:a.code)?{code:g(O.sandbox.code)}:void 0},branding_footer_text:V},n=(null==s?void 0:s.restRoot)||"/wp-json/",t=await fetch(n+"minime/v1/save",{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":s.nonce},credentials:"include",body:JSON.stringify(l)});if(!t.ok){let e=await t.json();throw Error(e.message||"HTTP ".concat(t.status))}await t.json(),C("Settings saved successfully!"),setTimeout(()=>C(null),5e3)}catch(e){console.error("Failed to save settings:",e),f(e instanceof Error?e.message:"Failed to save settings")}finally{N(!1)}};return(0,l.jsxs)("div",{className:u().panel,children:[v&&(0,l.jsx)("div",{style:{padding:"40px",textAlign:"center",color:"#999"},children:"Loading settings..."}),b&&(0,l.jsxs)("div",{style:{padding:"12px 16px",marginBottom:"16px",backgroundColor:"#fee",border:"1px solid #fcc",borderRadius:"4px",color:"#c33",fontSize:"14px"},children:["❌ ",b]}),w&&(0,l.jsxs)("div",{style:{padding:"12px 16px",marginBottom:"16px",backgroundColor:"#efe",border:"1px solid #cfc",borderRadius:"4px",color:"#3c3",fontSize:"14px"},children:["✅ ",w]}),!v&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("header",{className:u().header,children:[(0,l.jsx)("h1",{className:u().title,children:"settings"}),(0,l.jsx)("p",{className:u().description,children:"manage your minime card and profile"})]}),(0,l.jsxs)("div",{className:_().settingsContainer,children:[(0,l.jsxs)("div",{className:u().card,children:[(0,l.jsxs)("div",{className:u().cardHeader,children:[(0,l.jsx)("h3",{className:u().cardTitle,children:"profile"}),(0,l.jsx)("span",{className:u().badge,children:"your identity"})]}),(0,l.jsxs)("div",{className:_().twoColumn,children:[(0,l.jsxs)("div",{className:_().column,children:[(0,l.jsxs)("div",{className:_().formGroup,children:[(0,l.jsx)("label",{className:_().inputLabel,children:"site title"}),(0,l.jsx)("input",{type:"text",className:_().input,placeholder:"site title",value:y,onChange:e=>I(e.target.value)})]}),(0,l.jsxs)("div",{className:_().formGroup,children:[(0,l.jsx)("label",{className:_().inputLabel,children:"tagline"}),(0,l.jsx)("input",{type:"text",className:_().input,placeholder:"short tagline",value:k,onChange:e=>S(e.target.value)})]}),(0,l.jsxs)("div",{className:_().formGroup,children:[(0,l.jsx)("label",{className:_().inputLabel,children:"bio"}),(0,l.jsx)("textarea",{className:_().textarea,placeholder:"write a short bio for the card",value:T,onChange:e=>L(e.target.value),rows:4})]})]}),(0,l.jsx)("div",{className:_().column,children:(0,l.jsxs)("div",{className:_().formGroup,children:[(0,l.jsx)("label",{className:_().inputLabel,children:"avatar"}),(0,l.jsx)("div",{className:_().avatarPreview,children:B?(0,l.jsx)("img",{src:B,alt:"avatar preview",className:_().avatarImage}):(0,l.jsx)("div",{className:_().avatarPlaceholder,children:(0,l.jsx)("span",{className:_().avatarIcon,children:"\uD83D\uDCF7"})})}),(0,l.jsxs)("div",{className:_().fileInputWrapper,children:[(0,l.jsx)("input",{type:"file",accept:"image/*",className:_().fileInput,onChange:Q,id:"avatar-upload"}),(0,l.jsx)("label",{htmlFor:"avatar-upload",className:_().fileLabel,children:"choose image"})]}),(0,l.jsx)("p",{className:_().helperText,children:"this image will be used as both the card avatar and the site favicon."})]})})]})]}),(0,l.jsxs)("div",{className:u().card,children:[(0,l.jsxs)("div",{className:u().cardHeader,children:[(0,l.jsx)("h3",{className:u().cardTitle,children:"links & buttons"}),(0,l.jsx)("span",{className:u().badge,children:"call to action"})]}),(0,l.jsxs)("div",{className:_().twoColumn,children:[(0,l.jsxs)("div",{className:_().column,children:[(0,l.jsx)("div",{className:_().sectionTitle,children:"social links"}),(0,l.jsx)("div",{className:_().repeatableSection,children:0===M.length?(0,l.jsx)("p",{className:_().emptyState,children:"no social links yet"}):M.map(e=>(0,l.jsxs)("div",{className:_().repeatableRow,children:[(0,l.jsxs)("select",{className:_().select,value:e.channel,onChange:a=>ee(e.id,"channel",a.target.value),children:[(0,l.jsx)("option",{value:"youtube",children:"youtube"}),(0,l.jsx)("option",{value:"instagram",children:"instagram"}),(0,l.jsx)("option",{value:"facebook",children:"facebook"}),(0,l.jsx)("option",{value:"twitter",children:"twitter / x"}),(0,l.jsx)("option",{value:"tiktok",children:"tiktok"}),(0,l.jsx)("option",{value:"linkedin",children:"linkedin"}),(0,l.jsx)("option",{value:"github",children:"github"}),(0,l.jsx)("option",{value:"email",children:"email"}),(0,l.jsx)("option",{value:"phone",children:"phone"}),(0,l.jsx)("option",{value:"whatsapp",children:"whatsapp"}),(0,l.jsx)("option",{value:"telegram",children:"telegram"}),(0,l.jsx)("option",{value:"snapchat",children:"snapchat"}),(0,l.jsx)("option",{value:"website",children:"website"})]}),(0,l.jsx)("input",{type:"text",className:_().input,placeholder:"value",value:e.value,onChange:a=>ee(e.id,"value",a.target.value)}),(0,l.jsx)("button",{className:_().removeButton,onClick:()=>ea(e.id),"aria-label":"remove social link",children:"✕"})]},e.id))}),(0,l.jsx)("button",{className:_().addButton,onClick:()=>{D([...M,{id:Date.now().toString(),channel:"youtube",value:""}])},children:"+ add social link"})]}),(0,l.jsxs)("div",{className:_().column,children:[(0,l.jsx)("div",{className:_().sectionTitle,children:"buttons"}),(0,l.jsx)("div",{className:_().repeatableSection,children:0===E.length?(0,l.jsx)("p",{className:_().emptyState,children:"no buttons yet"}):E.map(e=>(0,l.jsxs)("div",{className:_().repeatableRow,children:[(0,l.jsx)("input",{type:"text",className:_().input,placeholder:"button label",value:e.label,onChange:a=>es(e.id,"label",a.target.value)}),(0,l.jsx)("input",{type:"url",className:_().input,placeholder:"url",value:e.url,onChange:a=>es(e.id,"url",a.target.value)}),(0,l.jsx)("button",{className:_().removeButton,onClick:()=>el(e.id),"aria-label":"remove button",children:"✕"})]},e.id))}),(0,l.jsx)("button",{className:_().addButton,onClick:()=>{A([...E,{id:Date.now().toString(),label:"",url:""}])},children:"+ add button"})]})]})]}),(0,l.jsxs)("div",{className:u().card,children:[(0,l.jsxs)("div",{className:u().cardHeader,children:[(0,l.jsx)("h3",{className:u().cardTitle,children:"visuals"}),(0,l.jsx)("span",{className:u().badge,children:"colors & appearance"})]}),(0,l.jsxs)("div",{className:_().twoColumn,children:[(0,l.jsx)("div",{className:_().column,children:(0,l.jsxs)("div",{className:_().formGroup,children:[(0,l.jsx)("label",{className:_().inputLabel,children:"card background"}),(0,l.jsxs)("div",{className:_().colorPickerWrapper,children:[(0,l.jsx)("input",{type:"color",className:_().colorPicker,value:H,onChange:e=>R(e.target.value)}),(0,l.jsx)("span",{className:_().colorValue,children:H})]})]})}),(0,l.jsx)("div",{className:_().column,children:(0,l.jsxs)("div",{className:_().formGroup,children:[(0,l.jsx)("label",{className:_().inputLabel,children:"page background"}),(0,l.jsx)("div",{className:_().segmentedControl,children:["solid","gradient","image","sandbox"].map(e=>(0,l.jsx)("button",{className:"".concat(_().segmentButton," ").concat(O.type===e?_().active:""),onClick:()=>Y(e),children:e},e))}),"solid"===O.type&&(0,l.jsx)("div",{className:_().formGroup,children:(0,l.jsxs)("div",{className:_().colorPickerWrapper,children:[(0,l.jsx)("input",{type:"color",value:O.solidColor||"#f5f5f5",onChange:e=>z(e.target.value)}),(0,l.jsx)("span",{className:_().colorValue,children:O.solidColor||"#f5f5f5"})]})}),"gradient"===O.type&&(0,l.jsxs)("div",{className:_().gradientModeContainer,children:[(0,l.jsxs)("div",{className:_().gradientRow,children:[(0,l.jsxs)("div",{className:_().gradientColorGroup,children:[(0,l.jsx)("label",{className:_().inputLabel,children:"color 1"}),(0,l.jsx)("input",{type:"color",value:(null===(e=O.gradient)||void 0===e?void 0:e.color1)||"#ffffff",onChange:e=>Z("color1",e.target.value)})]}),(0,l.jsxs)("div",{className:_().gradientColorGroup,children:[(0,l.jsx)("label",{className:_().inputLabel,children:"color 2"}),(0,l.jsx)("input",{type:"color",value:(null===(a=O.gradient)||void 0===a?void 0:a.color2)||"#f5f5f5",onChange:e=>Z("color2",e.target.value)})]})]}),(0,l.jsxs)("div",{className:_().angleSliderGroup,children:[(0,l.jsxs)("label",{className:_().inputLabel,children:["angle: ",(null===(s=O.gradient)||void 0===s?void 0:s.angle)||135,"\xb0"]}),(0,l.jsx)("input",{type:"range",min:"0",max:"360",value:(null===(t=O.gradient)||void 0===t?void 0:t.angle)||135,onChange:e=>Z("angle",parseInt(e.target.value))})]}),(0,l.jsx)("div",{className:_().gradientPreviewSwatch,style:{background:"linear-gradient(".concat((null===(i=O.gradient)||void 0===i?void 0:i.angle)||135,"deg, ").concat((null===(r=O.gradient)||void 0===r?void 0:r.color1)||"#ffffff",", ").concat((null===(o=O.gradient)||void 0===o?void 0:o.color2)||"#f5f5f5",")")}})]}),"image"===O.type&&(0,l.jsx)("div",{className:_().imageModeContainer,children:(null===(c=O.image)||void 0===c?void 0:c.previewUrl)?(0,l.jsxs)("div",{className:_().imagePreviewContainer,children:[(0,l.jsx)("img",{src:O.image.previewUrl,alt:"preview",className:_().imagePreview}),(0,l.jsx)("button",{className:_().clearImageButton,onClick:()=>{U({...O,image:{previewUrl:void 0}})},children:"remove image"})]}):(0,l.jsxs)("div",{className:_().imageUploadWrapper,children:[(0,l.jsx)("label",{htmlFor:"pageImageInput",className:_().fileLabel,children:"choose image"}),(0,l.jsx)("input",{id:"pageImageInput",type:"file",accept:"image/*",className:_().fileInput,onChange:$}),(0,l.jsx)("p",{className:_().uploadHint,children:"PNG, JPG, GIF (max 5MB)"})]})}),"sandbox"===O.type&&(0,l.jsxs)("div",{className:_().formGroup,children:[(0,l.jsx)("p",{className:_().helperText,children:"Paste CSS or HTML/CSS/JS code for a custom background. Raw CSS is auto-wrapped. External scripts and stylesheets are stripped for security. Max 100KB."}),(0,l.jsx)("textarea",{className:_().textarea,placeholder:"body { background: linear-gradient(45deg, #ff6b6b, #4ecdc4); }",value:(null===(d=O.sandbox)||void 0===d?void 0:d.code)||"",onChange:e=>X(e.target.value),rows:10,style:{fontFamily:"monospace",fontSize:"12px"}}),(0,l.jsxs)("p",{className:_().helperText,style:{marginTop:"8px"},children:[(((null===(m=O.sandbox)||void 0===m?void 0:null===(p=m.code)||void 0===p?void 0:p.length)||0)/1024).toFixed(1),"KB / 100KB"]})]})]})})]})]}),(0,l.jsxs)("div",{className:u().card,children:[(0,l.jsxs)("div",{className:u().cardHeader,children:[(0,l.jsx)("h3",{className:u().cardTitle,children:"footer"}),(0,l.jsx)("span",{className:u().badge,children:"branding"})]}),(0,l.jsxs)("div",{className:_().footerSection,children:[(0,l.jsxs)("div",{className:_().checkboxGroup,children:[(0,l.jsx)("input",{type:"checkbox",id:"footer-branding",className:_().checkbox,checked:q,onChange:e=>W(e.target.checked)}),(0,l.jsx)("label",{htmlFor:"footer-branding",className:_().checkboxLabel,children:"show footer branding text"})]}),!q&&(0,l.jsxs)("div",{className:_().formGroup,children:[(0,l.jsx)("label",{className:_().inputLabel,children:"branding text"}),(0,l.jsx)("textarea",{className:_().textarea,placeholder:"enter your branding text or copyright notice",value:V,onChange:e=>J(e.target.value),rows:3})]})]})]})]}),(0,l.jsxs)("div",{className:_().actionArea,children:[(0,l.jsx)("button",{className:_().primaryButton,onClick:en,disabled:j,children:j?"saving...":"save all changes"}),(0,l.jsx)("button",{className:_().secondaryButton,onClick:()=>{let e=window.MINIME_ADMIN_CONFIG,a=(null==e?void 0:e.publicUrl)||"/";window.open(a,"_blank")},children:"view my minime"})]})]})]})}function x(){let e=[{id:1,title:"getting started with minime",status:"published",date:"2025-01-15",count:2},{id:2,title:"advanced configuration guide",status:"draft",date:"2025-01-14",count:5},{id:3,title:"api reference documentation",status:"published",date:"2025-01-12",count:12}];return(0,l.jsxs)("div",{className:u().panel,children:[(0,l.jsxs)("header",{className:u().header,children:[(0,l.jsx)("h1",{className:u().title,children:"posts"}),(0,l.jsx)("p",{className:u().description,children:"manage all your posts and content"})]}),(0,l.jsxs)("div",{className:u().listContainer,children:[(0,l.jsxs)("div",{className:u().card,children:[(0,l.jsxs)("div",{className:u().cardHeader,children:[(0,l.jsx)("h3",{className:u().cardTitle,children:"recent posts"}),(0,l.jsxs)("span",{className:u().badge,children:[e.length," posts"]})]}),(0,l.jsx)("div",{className:u().list,children:e.map((a,s)=>(0,l.jsxs)("div",{className:u().listItem,children:[(0,l.jsxs)("div",{className:u().listItemContent,children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:u().postTitle,children:a.title}),(0,l.jsxs)("p",{className:u().postMeta,children:[a.date," • ",a.status]})]}),(0,l.jsx)("span",{className:u().postCount,children:a.count})]}),s<e.length-1&&(0,l.jsx)("div",{className:u().listDivider})]},a.id))})]}),(0,l.jsxs)("div",{className:u().card,children:[(0,l.jsx)("div",{className:u().cardHeader,children:(0,l.jsx)("h3",{className:u().cardTitle,children:"stats"})}),(0,l.jsxs)("div",{className:u().statsGrid,children:[(0,l.jsxs)("div",{className:u().statItem,children:[(0,l.jsx)("p",{className:u().statLabel,children:"published"}),(0,l.jsx)("p",{className:u().statValue,children:"2"})]}),(0,l.jsxs)("div",{className:u().statItem,children:[(0,l.jsx)("p",{className:u().statLabel,children:"drafts"}),(0,l.jsx)("p",{className:u().statValue,children:"1"})]}),(0,l.jsxs)("div",{className:u().statItem,children:[(0,l.jsx)("p",{className:u().statLabel,children:"total views"}),(0,l.jsx)("p",{className:u().statValue,children:"19"})]})]})]})]})]})}function j(){return(0,l.jsxs)("div",{className:u().panel,children:[(0,l.jsxs)("header",{className:u().header,children:[(0,l.jsx)("h1",{className:u().title,children:"subscription"}),(0,l.jsx)("p",{className:u().description,children:"manage your premium plan and billing"})]}),(0,l.jsxs)("div",{className:u().grid,children:[(0,l.jsxs)("div",{className:"".concat(u().card," ").concat(u().largeCard),children:[(0,l.jsxs)("div",{className:u().cardHeader,children:[(0,l.jsx)("h3",{className:u().cardTitle,children:"current plan"}),(0,l.jsx)("span",{className:u().badge,children:"active"})]}),(0,l.jsxs)("div",{className:u().planContent,children:[(0,l.jsxs)("div",{className:u().planSection,children:[(0,l.jsx)("p",{className:u().planName,children:"pro"}),(0,l.jsx)("p",{className:u().planPrice,children:"$9.99 / month"}),(0,l.jsx)("p",{className:u().planDescription,children:"unlimited posts, advanced analytics, priority support"})]}),(0,l.jsxs)("div",{className:u().planFeatures,children:[(0,l.jsxs)("div",{className:u().feature,children:[(0,l.jsx)("span",{className:u().featureIcon,children:"✓"}),(0,l.jsx)("span",{className:u().featureText,children:"unlimited posts"})]}),(0,l.jsxs)("div",{className:u().feature,children:[(0,l.jsx)("span",{className:u().featureIcon,children:"✓"}),(0,l.jsx)("span",{className:u().featureText,children:"analytics"})]}),(0,l.jsxs)("div",{className:u().feature,children:[(0,l.jsx)("span",{className:u().featureIcon,children:"✓"}),(0,l.jsx)("span",{className:u().featureText,children:"priority support"})]})]})]})]}),(0,l.jsxs)("div",{className:u().card,children:[(0,l.jsxs)("div",{className:u().cardHeader,children:[(0,l.jsx)("h3",{className:u().cardTitle,children:"billing"}),(0,l.jsx)("span",{className:u().badge,children:"next renewal"})]}),(0,l.jsxs)("div",{className:u().cardContent,children:[(0,l.jsxs)("div",{className:u().billingItem,children:[(0,l.jsx)("label",{className:u().label,children:"renewal date"}),(0,l.jsx)("p",{className:u().value,children:"2025-02-15"})]}),(0,l.jsxs)("div",{className:u().billingItem,children:[(0,l.jsx)("label",{className:u().label,children:"payment method"}),(0,l.jsx)("p",{className:u().value,children:"•••• 4242"})]}),(0,l.jsxs)("div",{className:u().billingItem,children:[(0,l.jsx)("label",{className:u().label,children:"auto-renewal"}),(0,l.jsx)("p",{className:u().value,children:"enabled"})]})]})]}),(0,l.jsxs)("div",{className:u().card,children:[(0,l.jsxs)("div",{className:u().cardHeader,children:[(0,l.jsx)("h3",{className:u().cardTitle,children:"usage"}),(0,l.jsx)("span",{className:u().badge,children:"this month"})]}),(0,l.jsxs)("div",{className:u().cardContent,children:[(0,l.jsxs)("div",{className:u().usageItem,children:[(0,l.jsxs)("div",{className:u().usageLabel,children:[(0,l.jsx)("label",{className:u().label,children:"posts created"}),(0,l.jsx)("span",{className:u().usageValue,children:"8 / unlimited"})]}),(0,l.jsx)("div",{className:u().progressBar,children:(0,l.jsx)("div",{className:u().progress,style:{width:"8%"}})})]}),(0,l.jsxs)("div",{className:u().usageItem,children:[(0,l.jsxs)("div",{className:u().usageLabel,children:[(0,l.jsx)("label",{className:u().label,children:"api calls"}),(0,l.jsx)("span",{className:u().usageValue,children:"342 / 10,000"})]}),(0,l.jsx)("div",{className:u().progressBar,children:(0,l.jsx)("div",{className:u().progress,style:{width:"3.4%"}})})]})]})]})]})]})}function N(){let[e,a]=(0,n.useState)("settings");return(0,l.jsxs)("div",{className:i().shell,children:[(0,l.jsx)(d,{activeTab:e,onTabChange:e=>a(e)}),(0,l.jsx)("main",{className:i().main,children:(0,l.jsx)("div",{className:i().content,children:(()=>{switch(e){case"settings":return(0,l.jsx)(v,{});case"posts":return(0,l.jsx)(x,{});case"subscription":return(0,l.jsx)(j,{});default:return null}})()})})]})}var b=s(2293),f=s.n(b);function w(){let[e,a]=(0,n.useState)(null),[s,t]=(0,n.useState)(!1),[i,r]=(0,n.useState)(null),[o,c]=(0,n.useState)(null),[d,p]=(0,n.useState)(""),[u,m]=(0,n.useState)(""),[_,g]=(0,n.useState)(!1),[h,v]=(0,n.useState)(""),[x,j]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=window.MINIME_ADMIN_CONFIG;a((null==e?void 0:e.isLoggedIn)===!0)},[]);let b=async e=>{e.preventDefault(),t(!0),r(null);try{let e=window.MINIME_ADMIN_CONFIG,a=(null==e?void 0:e.restRoot)||"/wp-json/",s=await fetch(a+"minime/v1/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({username:d,password:u,remember:!0})});if(!s.ok){let e=await s.json();throw Error(e.message||"Login failed")}window.location.reload()}catch(e){r(e instanceof Error?e.message:"Login failed")}finally{t(!1)}},w=async e=>{e.preventDefault(),t(!0),r(null);try{let e=window.MINIME_ADMIN_CONFIG,a=(null==e?void 0:e.restRoot)||"/wp-json/",s=await fetch(a+"minime/v1/request-password-reset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:h})});if(!s.ok){let e=await s.json();throw Error(e.message||"Password reset request failed")}j(!0),c("If this email is registered, you will receive a password reset link shortly.")}catch(e){r(e instanceof Error?e.message:"Password reset failed")}finally{t(!1)}};return null===e?(0,l.jsx)("div",{className:f().loginContainer,children:(0,l.jsx)("div",{className:f().loginCard,children:(0,l.jsx)("p",{style:{textAlign:"center",color:"#666"},children:"loading..."})})}):e?(0,l.jsx)(N,{}):(0,l.jsx)("div",{className:f().loginContainer,children:(0,l.jsxs)("div",{className:f().loginCard,children:[(0,l.jsx)("h1",{className:f().loginTitle,children:"minime"}),(0,l.jsx)("p",{className:f().loginSubtitle,children:"sign in to your dashboard"}),i&&(0,l.jsxs)("div",{className:f().errorMessage,children:["❌ ",i]}),o&&(0,l.jsxs)("div",{className:f().successMessage,children:["✅ ",o]}),_?(0,l.jsxs)("form",{onSubmit:w,className:f().loginForm,children:[x?null:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:f().formGroup,children:[(0,l.jsx)("label",{className:f().label,children:"email address"}),(0,l.jsx)("input",{type:"email",value:h,onChange:e=>v(e.target.value),className:f().input,placeholder:"you@example.com",required:!0,disabled:s})]}),(0,l.jsx)("button",{type:"submit",className:f().submitButton,disabled:s,children:s?"sending...":"send reset link"})]}),(0,l.jsx)("button",{type:"button",className:f().linkButton,onClick:()=>{g(!1),j(!1),r(null),c(null)},children:"back to sign in"})]}):(0,l.jsxs)("form",{onSubmit:b,className:f().loginForm,children:[(0,l.jsxs)("div",{className:f().formGroup,children:[(0,l.jsx)("label",{className:f().label,children:"email or username"}),(0,l.jsx)("input",{type:"text",value:d,onChange:e=>p(e.target.value),className:f().input,placeholder:"you@example.com",required:!0,disabled:s})]}),(0,l.jsxs)("div",{className:f().formGroup,children:[(0,l.jsx)("label",{className:f().label,children:"password"}),(0,l.jsx)("input",{type:"password",value:u,onChange:e=>m(e.target.value),className:f().input,placeholder:"••••••••",required:!0,disabled:s})]}),(0,l.jsx)("button",{type:"submit",className:f().submitButton,disabled:s,children:s?"signing in...":"sign in"}),(0,l.jsx)("button",{type:"button",className:f().linkButton,onClick:()=>{g(!0),r(null),c(null)},children:"forgot password?"})]})]})})}},2293:function(e){e.exports={main:"page_main__GlU4n",card:"page_card__QV0Om",headline:"page_headline__7qraH",title:"page_title__3jonF",content:"page_content__kDoxQ",description:"page_description__86bsR",loading:"page_loading__Q7rym",status:"page_status___nccx",statusLabel:"page_statusLabel__YTO5T",statusOk:"page_statusOk__reg8O",statusPending:"page_statusPending__BC8WW",info:"page_info__8u_Lr",loginContainer:"page_loginContainer__MG55o",loginCard:"page_loginCard__1Q2Um",loginTitle:"page_loginTitle__Fg5lJ",loginSubtitle:"page_loginSubtitle__hLoIy",loginForm:"page_loginForm___wi10",formGroup:"page_formGroup__z71No",label:"page_label__2GA72",input:"page_input___cVLA",submitButton:"page_submitButton__6O8qB",linkButton:"page_linkButton__hI4am",errorMessage:"page_errorMessage__IP24J",successMessage:"page_successMessage__QfqHw"}},6738:function(e){e.exports={shell:"admin-shell_shell__hreBE",main:"admin-shell_main__HIjeY",content:"admin-shell_content__qVkt2",fadeIn:"admin-shell_fadeIn__Kzc04"}},7075:function(e){e.exports={panel:"panel_panel__eqUVH",header:"panel_header__yNh44",title:"panel_title__y9CdZ",description:"panel_description__XqK_I",grid:"panel_grid__ikLof",card:"panel_card__3cE5a",largeCard:"panel_largeCard__jAImJ",cardHeader:"panel_cardHeader__9_cxF",cardTitle:"panel_cardTitle__bLnwC",badge:"panel_badge__iuRBW",cardContent:"panel_cardContent__6RwCd",settingItem:"panel_settingItem__cEYYK",label:"panel_label__cVj1F",placeholder:"panel_placeholder__fLn1R",value:"panel_value__cZNrJ",listContainer:"panel_listContainer__OA0xY",list:"panel_list__iKa6U",listItem:"panel_listItem__HYZ_N",listItemContent:"panel_listItemContent__IKId5",postTitle:"panel_postTitle__H6_e0",postMeta:"panel_postMeta__BbmuD",postCount:"panel_postCount__9REU1",listDivider:"panel_listDivider__AIMox",statsGrid:"panel_statsGrid__2CIXk",statItem:"panel_statItem__O9nOC",statLabel:"panel_statLabel__WvUQv",statValue:"panel_statValue__ECcGr",planContent:"panel_planContent__hxDGg",planSection:"panel_planSection__giVmG",planName:"panel_planName__jhUN6",planPrice:"panel_planPrice__jKjYp",planDescription:"panel_planDescription__jprLt",planFeatures:"panel_planFeatures__YNJqu",feature:"panel_feature__FMKfv",featureIcon:"panel_featureIcon__gSkub",featureText:"panel_featureText__avrq7",billingItem:"panel_billingItem__GUZzN",usageItem:"panel_usageItem__HGS2Q",usageLabel:"panel_usageLabel__eZ3L8",usageValue:"panel_usageValue__8CMC5",progressBar:"panel_progressBar__eg_IL",progress:"panel_progress__pkF75"}},3076:function(e){e.exports={settingsContainer:"settings-panel_settingsContainer__X2A0F",twoColumn:"settings-panel_twoColumn__TXoly",column:"settings-panel_column__Uy52_",formGroup:"settings-panel_formGroup__3hk1s",inputLabel:"settings-panel_inputLabel__jMNN5",input:"settings-panel_input__RnGaN",textarea:"settings-panel_textarea__pX9T_",select:"settings-panel_select__cl_qC",avatarPreview:"settings-panel_avatarPreview__mLdwS",avatarImage:"settings-panel_avatarImage__a7qFA",avatarPlaceholder:"settings-panel_avatarPlaceholder__Mrf6R",avatarIcon:"settings-panel_avatarIcon__zIuKw",fileInputWrapper:"settings-panel_fileInputWrapper__wWOPH",fileInput:"settings-panel_fileInput__lTwWL",fileLabel:"settings-panel_fileLabel__H9__a",helperText:"settings-panel_helperText__GY2Cw",sectionTitle:"settings-panel_sectionTitle__0146R",repeatableSection:"settings-panel_repeatableSection__AYBTw",repeatableRow:"settings-panel_repeatableRow__H5Wuj",removeButton:"settings-panel_removeButton__wDb7u",addButton:"settings-panel_addButton___7Wxo",emptyState:"settings-panel_emptyState__jkpl3",colorPickerWrapper:"settings-panel_colorPickerWrapper__eaZQ8",colorPicker:"settings-panel_colorPicker__aAoHL",colorValue:"settings-panel_colorValue__R1e1a",cardPreviewLabel:"settings-panel_cardPreviewLabel__vPQ5q",cardPreview:"settings-panel_cardPreview__FqWr5",previewContent:"settings-panel_previewContent__s9f4c",previewTitle:"settings-panel_previewTitle__5tCy2",previewText:"settings-panel_previewText__5x6uF",previewControls:"settings-panel_previewControls__eVTa9",previewButton:"settings-panel_previewButton__qxKCJ",previewInput:"settings-panel_previewInput__leU28",checkboxGroup:"settings-panel_checkboxGroup__4u6of",checkbox:"settings-panel_checkbox__XqTSF",checkboxLabel:"settings-panel_checkboxLabel__UxIiD",footerSection:"settings-panel_footerSection__UJG2q",actionArea:"settings-panel_actionArea__k8FDc",primaryButton:"settings-panel_primaryButton__nB4ra",secondaryButton:"settings-panel_secondaryButton__rNPNU",segmentedControl:"settings-panel_segmentedControl__4M_KJ",segmentButton:"settings-panel_segmentButton__oL0q_",active:"settings-panel_active__Y_yjz",gradientModeContainer:"settings-panel_gradientModeContainer__DwLtZ",gradientRow:"settings-panel_gradientRow__upPfd",gradientColorGroup:"settings-panel_gradientColorGroup__7X8u1",angleSliderGroup:"settings-panel_angleSliderGroup__QNrkN",angleSlider:"settings-panel_angleSlider__DqvqG",gradientPreviewSwatch:"settings-panel_gradientPreviewSwatch__M13mV",imageModeContainer:"settings-panel_imageModeContainer__s9E_u",imageUploadWrapper:"settings-panel_imageUploadWrapper__zUmfm",uploadHint:"settings-panel_uploadHint__1NHai",imagePreviewContainer:"settings-panel_imagePreviewContainer__r7B4f",imagePreview:"settings-panel_imagePreview__w_iI2",clearImageButton:"settings-panel_clearImageButton__ant0O"}},4719:function(e){e.exports={nav:"side-nav_nav__v4nwa",navHeader:"side-nav_navHeader__qIdfd",title:"side-nav_title__11TTi",subtitle:"side-nav_subtitle__6QFwy",tabsList:"side-nav_tabsList__IWTRW",tabButton:"side-nav_tabButton__AwuGN",active:"side-nav_active__Ln0ve",icon:"side-nav_icon__vI25F",label:"side-nav_label__DwRQn",navFooter:"side-nav_navFooter__Ff_kq",logoutButton:"side-nav_logoutButton__OHUY3",footerItem:"side-nav_footerItem__302w8",badge:"side-nav_badge__8e85J"}}},function(e){e.O(0,[244,971,117,744],function(){return e(e.s=1057)}),_N_E=e.O()}]);